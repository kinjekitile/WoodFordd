@model ListPaginationModel


@if (Model != null) {
    if (Model.ShowPagination) {

        <div class="box-footer clearfix">

            <ul class="pagination pagination-sm no-margin pull-right">
                
                @if (Model.CurrentPage > 1) {
                    <li><a href="@Url.Action("Index", new { p = Model.CurrentPage - 1 })">&laquo;</a></li>
                }

                @for (int p = 0; p < Model.TotalPages; p++) {

                    
                    if (p + 1 == Model.CurrentPage) {
                        <li class="paginate_button active"><a href="@(Model.UrlAction)?@(Model.UrlGetParameters)&p=@(p + 1)">@(p + 1)</a></li>
                    }
                    else {
                        if (Model.TotalPages > 5) {
                            if (p + 1 > Model.CurrentPage - 3 && p < Model.CurrentPage + 2) {
                                <li><a href="@(Model.UrlAction)?@(Model.UrlGetParameters)&p=@(p + 1)">@(p + 1)</a></li>
                            }
                        }
                        else {
                            <li><a href="@(Model.UrlAction)?@(Model.UrlGetParameters)&p=@(p + 1)">@(p + 1)</a></li>
                        }

                    }

                }

                @if (Model.CurrentPage < Model.TotalPages) {
                    <li><a href="@Url.Action("Index", new { p = Model.CurrentPage + 1 })">&raquo;</a></li>
                }


                @*@if (Model.CurrentPage > 1) {
                    <li><a href="@Url.Action("Index", new { p = Model.CurrentPage - 1 })">&laquo;</a></li>
                }


                @for (int p = 0; p < Model.TotalPages; p++) {
                    if (p + 1 == Model.CurrentPage) {
                        <li class="paginate_button active"><a href="@(Model.UrlAction)?@(Model.UrlGetParameters)&p=@(p + 1)">@(p + 1)</a></li>
                    }
                    else {
                        <li><a href="@(Model.UrlAction)?@(Model.UrlGetParameters)&p=@(p + 1)">@(p + 1)</a></li>
                    }

                }

                @if (Model.CurrentPage < Model.TotalPages) {
                    <li><a href="@Url.Action("Index", new { p = Model.CurrentPage + 1 })">&raquo;</a></li>
                }*@
            </ul>

        </div>
                        }
                    }

                    @*@if (Model != null) {
                            if (Model.ShowPagination) {

                                <div class="box-footer clearfix">

                                    <ul class="pagination pagination-sm no-margin pull-right">
                                        @if (Model.CurrentPage > 1) {
                                            <li><a href="@Url.Action("Index", new { p = Model.CurrentPage - 1 })">&laquo;</a></li>
                                        }
                                        @for (int p = 0; p < Model.TotalPages; p++) {
                                            if (p + 1 == Model.CurrentPage) {
                                                <li class="paginate_button active"><a href="@Url.Action("Index", new { p = (p + 1) })">@(p + 1)</a></li>
                                            } else {
                                                <li><a href="@Url.Action("Index", new { p = (p + 1) })">@(p + 1)</a></li>
                                            }

                                        }
                                        @if (Model.CurrentPage < Model.TotalPages) {
                                            <li><a href="@Url.Action("Index", new { p = Model.CurrentPage + 1 })">&raquo;</a></li>
                                        }
                                    </ul>

                                </div>
                            }
                        }*@